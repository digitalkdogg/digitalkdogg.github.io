<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>React Local</title>

  <link rel= "stylesheet" href = "./public/includes/css/style.css" />

  <script type="application/javascript" src="./public/includes/react/react.production.min.js"></script>
  <script type="application/javascript" src="./public/includes/react/react-dom.production.min.js"></script>
  <script type="application/javascript" src="./public/includes/react/babel.js"></script>
</head>

<body>
  <div id="root"></div>

<script type="text/babel">
  const rootElement = document.getElementById('root')


/**********************************************
**          *** init function  ***           **
**********************************************/

  function Init(){
    return(
    <div>
      <Header />
      <Guts />
      <Footer />
    </div>
    )
  }


/**********************************************
**          *** Header class  ****           **
**********************************************/
  class Header extends React.Component {
    constructor() {
      super();
      this.state = {
        'scrollstate': 'init',
        'ismobile': isMobileDevice(),
        'title': 'Kevin W. Bollman',
        'phone': '814-777-1196',
        'email': 'KevinBollman@gmail.com',
        'headline': 'Full Stack Web Developer',
        'menu': {
          'about': {
            'id': 'menu-item',
            'class': 'about',
            'text': 'About Me',
            'href': '#about'
          }, 
          'projects': {
            'id': 'menu-item',
            'class': 'projects',
            'text': 'Projects',
            'href': '#projects'
          }, 
          'skills': {
            'id': 'menu-item',
            'class': 'skills',
            'text': 'Skills',
            'href': '#skills'
          }, 
          'contact': {
            'id': 'menu-item',
            'class': 'contact',
            'text': 'Contact Me',
            'href': '#contact'
          }
        }
      };
    }


    checkscreensize() {
      this.setState({ismobile: isMobileDevice()})
    }

    handleScroll(event) {
      var el = document.getElementById('header');

      if (window.scrollY>50) {
        this.setState({'scrollstate': 'scrolled'})
      } else {
        this.setState({'scrollstate': 'init'})
      }
    }

    componentDidMount() {
      this.checkscreensize();
      window.addEventListener("resize", this.checkscreensize.bind(this));
      window.addEventListener('scroll', this.handleScroll.bind(this));
      
    }

    render() {
      return(
        <div id = "header" className = {this.state.scrollstate=='init' ? 'init': 'scrolled'}>
          <div id = "title-container">
            <div id = "logo-container">&#x3C;K/&#x3E;</div>
              <div id = "text-container">
                <this.Title title = {this.state.title} />
                <this.Contact phone = {this.state.phone} />
                <this.Email email = {this.state.email} />
              </div>
          </div>
          <this.Menu classes = {this.state.scrollstate=='init'? 'show': 'hidden'} 
                          menu = {this.state.menu} ismobile = {this.state.ismobile}  />
        </div>
      )
    }

    Title(props) {
      return (
          <div id = "title">{props.title}</div>
      )
    }

    Contact(props) {
      return(
        <div class="phone"><a href = {'tel://' + props.phone}>{props.phone}</a></div>
      )
    }

    Email(props) {
      return (
        <div class = "email"><a href = {'mailto://' + props.email}>{props.email}</a></div>
      )
    }

    Headline(props) {
      return(
          <div id = "headline">{props.headline}</div>
        )
    }

    Menu(props) {
      return (
        <div id = "menu-container">
           
          <Mobilemenu ismobile = {props.ismobile} classes = {props.classes=='hidden' ? 'show': 'hidden' }/>
  
          <div id = "menu" className = {props.ismobile==true || props.classes=='hidden'? 'hidden': 'show'}  >
            <a href = {props.menu.about.href} id = {props.menu.about.id} class = {props.menu.about.class}>
              <div id = {props.menu.about.id}>{props.menu.about.text}</div>
            </a>
            <a href = {props.menu.projects.href} id = {props.menu.projects.id} class = {props.menu.projects.class}>
              <div id = {props.menu.projects.id}>{props.menu.projects.text}</div>
            </a>
            <a href = {props.menu.skills.href} id = {props.menu.skills.id} class = {props.menu.skills.class}>
              <div id = {props.menu.skills.id}>{props.menu.skills.text}</div>
            </a>
            <a href = {props.menu.contact.href} id = {props.menu.contact.id} class = {props.menu.contact.class}>
              <div id = {props.menu.contact.id}>{props.menu.contact.text}</div>
            </a>
            
          </div>

             
        </div>
        )
    }

  }// end class

/**********************************************
**          *** The Guts class  ****           **
**********************************************/
  class Guts extends React.Component {
    constructor() {
      super();
      this.state = {
        about: 'About Me',
        projects: 'My Projects',
        skills: 'Skills',
        projs: {'millwood' : {
          'id': 1,
          'title': 'Millwood',
          'desc': 'this is what I want to say about the project',
          'href': 'https://millwoodchurchnwa.com'
        }, 
        'checkbook' : {
          'id': 2,
          'title': 'Checkbook',
          'desc': 'This was a personal project that I did on my own.  It uses php code igniter along with my sql db server',
          'href' : '#'
        } }
      }
    }

    render() {
      return(
        <div id = "the-guts">
          <H2 text = {this.state.about} class = 'title' id = 'about' />
          <this.About />
          <H2 text = {this.state.projects} class = 'title' id = 'projects' />
          <this.Projects projs = {this.state.projs} />
          <H2 text = {this.state.skills} class = 'title' id = 'skills' />

        </div>
      )
    }

    About(props) {
      return (
        <div class = "item">
          <P text = "I am a full stack web designer / developer.  I design websites both professionally and on the side.
           My biggest thrill is when I can empower customer to manage their own technology.  Why give someone a fish everyday
            when you can give them a fishing pole and they are set for the rest of their life.  I enjoy connecting people
            with technology and in my spare time i am often coding or learning a new language or development stack to code in." />

           <P text = "People say that my biggest strength is my passion for a happy customer.  While I do find that I am very
           passionate about my work, I tend to think that my best strenth is my ingenuity.  My career has led me down many different
            path and have given me the opurtunity to leverage many differnt technologies.  In doing so I have come to learn my
            skill set to best fit the project I am working on.  Take this website for example, why buy a domain when you can setup
            a static web site using reactjs and github pages to host your work" />
        </div>
      )
    }

    Projects(props) {
      return (
        <div class = "item">
            <P text = "Currently working at Walmart Homeoffice which doesn't leave a lot of spare time.   For walmart I am
            Tech Lead - Intranet Admin and I am proud of the fact that I get to empower my teammates to run a great intranet system
            for 1.4 million assoicates.  When I am doing work for Walmart, I do enjoy picking a side project or even do fun
            stuff at home.  I am currently redoing a site for my church but I also like to challenge my self and teach my self new
            frameworks even if I don't plan on using them in the future." />

            <Aproject project = {props.projs.millwood} />
            <Aproject project = {props.projs.checkbook} />
        </div>
      )
    }

  }


/**********************************************
**          *** The Aproject class  ****           **
**********************************************/
  class Aproject extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <div className = "project">
            <div className = "title">
              {this.props.project.title}
            </div>
            <div className = "desc">
              {this.props.project.desc}
            </div>
            <div className = "btn-container">
              <a href = {this.props.project.href} target="_blank">
                <button>View More</button>
              </a>
            </div>
          </div>
      )
    }

  }

/**********************************************
**          *** The mobile menu class  ****           **
**********************************************/
  class Mobilemenu extends React.Component {
    constructor() {
      super();
      this.state = {
        'menu' : 'despanded'
      }
    }

    handleClick(e) {
      if (this.state.menu=='despanded') {
        var status = 'expanded';
      } else {
        var status = 'despanded';
      }

      if (status != null || status != '') {
        this.setState({
          'menu': status
        })
      }
    }

    render(props) {
      return(
        <div id = "mobile-menu-container">
          <div id = "mobile-menu" className = {this.props.ismobile == true || this.props.classes == 'show' ? 'show': 'hidden'} 
                                              onClick={this.handleClick.bind(this)}>
            <span className = "line"></span>
            <span className = "line"></span>
            <span className = "line"></span>
          </div>
          <div id = "mobile-menu-list" >
            <div id = "mobile-list-container" className = {this.state.menu=='despanded' ? 'hidden': 'show'}>
              <div>test1</div>
              <div>test2</div>
            </div>
          </div>
        </div> 
      )
    }

  }


/**********************************************
**          *** The p class  ****           **
**********************************************/
  class P extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <p className = {this.props.class}>{this.props.text}</p>
      )
    }

  }


/**********************************************
**          *** The h2 class  ****           **
**********************************************/
  class H2 extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <h2 id = {this.props.id} className = {this.props.class}>{this.props.text}</h2>
      )
    }

  }


/**********************************************
**          *** The Footer class  ****           **
**********************************************/
  class Footer extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render() {
      return(
        <div id = "footer">render</div>
      )
    }

  }

/**********************************************
**          *** Start the app **              **
**********************************************/
  // Use the ReactDOM.render to show your component on the browser
  ReactDOM.render(
    <Init />,
    document.getElementById('root')
  );


/*******************************************************
*              *** is mobile device function  ****     *
********************************************************
*  This function does several differnt method checks   *
*  to determine if you on a mobile device / screen size*
*  @return : boolean                                   *
*******************************************************/
  function isMobileDevice() {
    var device = (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
     if(window.innerWidth <= 800) {
      device = true;
     } else {
      device = false;
      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ==true) {
        device=true;
      } 
     }
     
    return device
  };

</script>

</body>

</html>
