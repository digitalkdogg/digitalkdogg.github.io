<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>React Local</title>

  <link rel= "stylesheet" href = "./public/includes/css/style.css" />

  <script type="application/javascript" src="./public/includes/react/react.production.min.js"></script>
  <script type="application/javascript" src="./public/includes/react/react-dom.production.min.js"></script>
  <script type="application/javascript" src="./public/includes/react/babel.js"></script>
</head>

<body>
  <div id="root"></div>

<script type="text/babel">
  const rootElement = document.getElementById('root')


/**********************************************
**          *** init function  ***           **
**********************************************/

  function Init(){
    return(
    <div>
      <Header />
      <Guts />
      <Footer />
    </div>
    )
  }


/**********************************************
**          *** Header class  ****           **
**********************************************/
  class Header extends React.Component {
    constructor() {
      super();
      this.state = {
        'mobilemenu': '',
        'scrollstate': 'init',
        'scrollpos': {
          'this': 'about',
          'about': {
              'this': 'About Me',
              'start': 50,
              'end': 300
          
        },
          'projects' : {
            'this': 'My Projects',
            'start': 301,
            'end': 1000
            }
          
        },
        'ismobile': isMobileDevice(),
        'classList': [],
        'classListStr': '',
        'title': 'Kevin W. Bollman',
        'phone': '814-777-1196',
        'email': 'KevinBollman@gmail.com',
        'headline': 'Full Stack Web Developer'
      };
    }


    checkscreensize() {
      var classList = this.state.classList;
      if (isMobileDevice() == true) {
        classList = removefromarray(classList, 'isdesktop');
      
        if (hasValue(classList, 'ismobile') ==false) {
          classList.push('ismobile')
        }
      } else {
         
       
         classList = removefromarray(classList, 'ismobile');
      
        if (hasValue(classList, 'isdesktop')==false) {
          classList.push('isdesktop');
        }
      }
      this.setState({ismobile: isMobileDevice(), classList: classList, classListStr: convertarraytostr(classList)})

    }

    handleScroll(event) {
      var classList = this.state.classList
      var thestate = '';
      var scrollpos = this.state.scrollpos
      if (window.scrollY>50) {
       
        scrollpos['this'] = this.getscrollpos(window.scrollY, this.state.scrollpos);
        classList = removefromarray(classList, 'init');
        
        if (hasValue(classList, 'scrolled')==false) {
          classList.push('scrolled')
        }
        thestate='scrolled';
        
      } else {
        classList = removefromarray(classList, 'scrolled');
        if (hasValue(classList, 'init')==false) {
          classList.push('init')
        }
        thestate = 'init'
      }



      this.setState({'scrollstate': thestate, 
                    'classList': classList, 
                    'classListStr': convertarraytostr(classList),
                    'scrollpos': scrollpos
      })

    }

    componentDidMount() {
      this.checkscreensize();
      window.addEventListener("resize", this.checkscreensize.bind(this));
      window.addEventListener('scroll', this.handleScroll.bind(this));
    }

    getscrollpos(pos, params) {
      var section = '';
      var keys = Object.keys(params);
        for (var i = 0; i<keys.length; i++) {
          try {
            if (params[keys[i]] != undefined) {
              if (pos >= params[keys[i]].start  ) {
                if (pos <= params[keys[i]].end ) {
                  section = params[keys[i]].this
                }
              }
            }
          } catch (e) {console.log(params[keys[i]])}
        }
    
      return section
    }     

    menu() {
      return(
        {
          'about': {
            'id': 'menu-item',
            'class': 'about',
            'text': 'About Me',
            'href': '#about'
          }, 
          'projects': {
            'id': 'menu-item',
            'class': 'projects',
            'text': 'Projects',
            'href': '#projects'
          }, 
          'skills': {
            'id': 'menu-item',
            'class': 'skills',
            'text': 'Skills',
            'href': '#skills'
          }, 
          'contact': {
            'id': 'menu-item',
            'class': 'contact',
            'text': 'Contact Me',
            'href': '#contact'
          }
        }
      )
    }

    render() {
      return(
        <div id = "header" className = {this.state.scrollstate=='init' ? 'init': 'scrolled'}>
          <div id = "title-container">
            <div id = "logo-container">&#x3C;K/&#x3E;</div>
              <div id = "text-container">
                <this.Title title = {this.state.title} />
                <this.Contact phone = {this.state.phone} />
                <this.Email email = {this.state.email} />
              </div>
          </div>

          <div id = "menu-container" className = {this.state.scrollstate} >
            <this.Menu id = "desktop-menu" classList = {this.state.classListStr} menu = {this.menu()} />
            <this.Mobilemenu id = "mobile-menu" classList = {this.state.classListStr} menu = {this.menu()} scrollpos = {this.state.scrollpos}/>
          </div>
        </div>
      )
    }

    Title(props) {
      return (
          <div id = "title">{props.title}</div>
      )
    }

    Contact(props) {
      return(
        <div class="phone"><a href = {'tel:' + props.phone}>{props.phone}</a></div>
      )
    }

    Email(props) {
      return (
        <div class = "email"><a href = {'mailto:' + props.email}>{props.email}</a></div>
      )
    }

    Headline(props) {
      return(
          <div id = "headline">{props.headline}</div>
        )
    }

    Menu(props) {
      return (
        <div id = "desktop-menu" className = {props.classList}>
          <a href ={props.menu.about.href} id = {props.menu.about.id} class = {props.menu.about.class}>
            <div id = {props.menu.about.id}>{props.menu.about.text}</div>
          </a>
          <a href ={props.menu.projects.href} id = {props.menu.projects.id} class = {props.menu.projects.class}>
            <div id = {props.menu.projects.id}>{props.menu.projects.text}</div>
          </a>
          <a href ={props.menu.skills.href} id = {props.menu.skills.id} class = {props.menu.skills.class}>
            <div id = {props.menu.skills.id}>{props.menu.skills.text}</div>
          </a>
          <a href ={props.menu.contact.href} id = {props.menu.contact.id} class = {props.menu.contact.class}>
            <div id = {props.menu.contact.id}>{props.menu.contact.text}</div>
          </a>

        </div>
      )
    }

    Mobilemenu(props) {
      return (
        <div id = "mobile-menu" className = {props.classList}>
        <Mobilemenu ismobile = 'true' classes = '' menu = {props.menu} scrollpos = {props.scrollpos}/>
        </div>
      )
    }

  }// end class

/**********************************************
**          *** The Guts class  ****           **
**********************************************/
  class Guts extends React.Component {
    constructor() {
      super();
      this.state = {
        about: 'About Me',
        projects: 'My Projects',
        skills  : 'Skills',
        contact: 'Contact Me',
        myskills : {
          'frontend': {
            'id': 1,
            'text': 'Front End',
            'data': {
              'html': {
                'id': 1,
                'text':'HTML5'
              }, 
              'css': {
                'id': 2,
                'text':'CSS3'
              }
            }
          },
          'backend': {}
        },
        projs: {
          'millwood' : {
            'id': 1,
            'title': 'Millwood',
            'desc': 'this is what I want to say about the project',
            'href': 'https://millwoodchurchnwa.com'
          }, 
          'checkbook' : {
            'id': 2,
            'title': 'Checkbook',
            'desc': 'This was a personal project that I did on my own.  It uses php code igniter along with my sql db server',
            'href' : '#'
        } }
      }
    }

    render() {
      return(
        <div id = "the-guts">
          <H2 text = {this.state.about} class = 'title' id = 'about' />
          <this.About />
          <H2 text = {this.state.projects} class = 'title' id = 'projects' />
          <this.Projects projs = {this.state.projs} />
          <H2 text = {this.state.skills} class = 'title' id = 'skills' />
          <this.Skills projs = {this.state.projs} />
          <H2 text = {this.state.contact} class = 'title' id = 'contact' />
          <this.Contact />

        </div>
      )
    }

    About(props) {
      return (
        <div class = "item">
          <P text = "I am a full stack web designer / developer.  I design websites both professionally and on the side.
           My biggest thrill is when I can empower customer to manage their own technology.  Why give someone a fish everyday
            when you can give them a fishing pole and they are set for the rest of their life.  I enjoy connecting people
            with technology and in my spare time i am often coding or learning a new language or development stack to code in." />

           <P text = "People say that my biggest strength is my passion for a happy customer.  While I do find that I am very
           passionate about my work, I tend to think that my best strenth is my ingenuity.  My career has led me down many different
            path and have given me the opurtunity to leverage many differnt technologies.  In doing so I have come to learn my
            skill set to best fit the project I am working on.  Take this website for example, why buy a domain when you can setup
            a static web site using reactjs and github pages to host your work" />
        </div>
      )
    }

    Projects(props) {
      return (
        <div class = "item">
            <P text = "Currently working at Walmart Homeoffice which doesn't leave a lot of spare time.   For walmart I am
            Tech Lead - Intranet Admin and I am proud of the fact that I get to empower my teammates to run a great intranet system
            for 1.4 million assoicates.  When I am doing work for Walmart, I do enjoy picking a side project or even do fun
            stuff at home.  I am currently redoing a site for my church but I also like to challenge my self and teach my self new
            frameworks even if I don't plan on using them in the future." />

            <Aproject project = {props.projs.millwood} />
            <Aproject project = {props.projs.checkbook} />
        </div>
      )
    }

    Skills(props) {
      return (
        <div id = "skills-container" className = "item">
          <div id = "skills">
            <H2 text = "Front End" />
            <Askill text = "HTML 5" />
            <Askill text = "CSS3" />
            <Askill text = "Javascript / Jquery" />
            <Askill text = "Wordpress" />
            <Askill text = "Drupal" />
          </div>
          <div id = "skills">
            <H2 text = "Back End" />
            <Askill text = "PHP" />
            <Askill text = "Codeigniter" />
            <Askill text = "Laravel" />
            <Askill text = "MySQL" />
            <Askill text = "React JS" />
          </div>
          <div id = "skills">
            <H2 text = "Server" />
            <Askill text = "Git Version Contral" />
            <Askill text = "Node JS" />
            <Askill text = "LAMP Stack" />
            <Askill text = "" />
            <Askill text = "" />

          </div>
          <div id = "skills">
            <H2 text = "Programming Mythologies" />
            <Askill text = "MVC Frameworks" />
            <Askill text = "REST API's" />
             <Askill text = "Object Oriented Programming" />
            <Askill text = "" />
             <Askill text = "" />

          </div>
        </div>
      )
    }

    Contact(props) {
      return (
        <div id = "contact-wrapper" className="item">
          <p>Github pages is great because it lets you have a static website for free.  Unfourtantly it doesn't let you do server side stuff, like email, 
          too easily.  I haven't got a chance to hook it up to any kind of api so right now you will have to email me.  Relax!  I have made it
          easy for you.  Just click the button below and it will start your email client.  I look forward to hearing from you.</p>
         <div id ="btn-wrapper">
           <a href = "mailto:KevinBollman@gmail.com?Subject=Kevin Bollman Website Contact"><button>Email Me!</button></a>
         </div>
        </div>
      )
    }

  }


/**********************************************
**          *** The Aproject class  ****           **
**********************************************/
  class Aproject extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <div className = "project">
            <div className = "title">
              {this.props.project.title}
            </div>
            <div className = "desc">
              {this.props.project.desc}
            </div>
            <div className = "btn-container">
              <a href = {this.props.project.href} target="_blank">
                <button>View More</button>
              </a>
            </div>
          </div>
      )
    }

  }

  /**********************************************
**          *** The Askill class  ****           **
**********************************************/
  class Askill extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <div className = "skill">
            {this.props.text}
          </div>
      )
    }

  }

/**********************************************
**          *** The mobile menu class  ****           **
**********************************************/
  class Mobilemenu extends React.Component {
    constructor() {
      super();
      this.state = {
        'menu' : 'despanded'
      }
    }

    handleClick(e) {
      if (this.state.menu=='despanded') {
        var status = 'expanded';
      } else {
        var status = 'despanded';
      }

      if (status != null || status != '') {
        this.setState({
          'menu': status
        })
      }
    }

    render(props) {
      return(
        <div id = "mobile-menu-container">
          <div id = "mobile-menu-box"  onClick={this.handleClick.bind(this)}>
            <span className = "line"></span>
            <span className = "line"></span>
            <span className = "line"></span>
          </div>
          {console.log(this.props)}

          <div id = "active-menu-item">{this.props.scrollpos.this}</div>

          <div id = "mobile-menu-list" className = {this.state.menu} >
            <div id = "mobile-list-container">
              <a href ={this.props.menu.about.href} id = {this.props.menu.about.id} class = {this.props.menu.about.class}>
                <div id = {this.props.menu.about.id}>{this.props.menu.about.text}</div>
              </a>
              <a href ={this.props.menu.projects.href} id = {this.props.menu.projects.id} class = {this.props.menu.projects.class}>
                <div id = {this.props.menu.projects.id}>{this.props.menu.projects.text}</div>
              </a>
                <a href ={this.props.menu.skills.href} id = {this.props.menu.skills.id} class = {this.props.menu.skills.class}>
                <div id = {this.props.menu.skills.id}>{this.props.menu.skills.text}</div>
              </a>
              <a href ={this.props.menu.contact.href} id = {this.props.menu.contact.id} class = {this.props.menu.contact.class}>
                <div id = {this.props.menu.contact.id}>{this.props.menu.contact.text}</div>
              </a>
            </div>
          </div>
        </div> 
      )
    }

  }


/**********************************************
**          *** The p class  ****           **
**********************************************/
  class P extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <p className = {this.props.class}>{this.props.text}</p>
      )
    }

  }


/**********************************************
**          *** The h2 class  ****           **
**********************************************/
  class H2 extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render(props) {
      return(
          <h2 id = {this.props.id} className = {this.props.class}>{this.props.text}</h2>
      )
    }

  }


/**********************************************
**          *** The Footer class  ****           **
**********************************************/
  class Footer extends React.Component {
    constructor() {
      super();
      this.state = {}
    }

    render() {
      return(
        <div id = "footer"><p>&copy; Kevin Bollman 2019 Hosted On Github Pages Built on React JS</p></div>
      )
    }

  }

/**********************************************
**          *** Start the app **              **
**********************************************/
  // Use the ReactDOM.render to show your component on the browser
  ReactDOM.render(
    <Init />,
    document.getElementById('root')
  );


/*******************************************************
*              *** is mobile device function  ****     *
********************************************************
*  This function does several differnt method checks   *
*  to determine if you on a mobile device / screen size*
*  @return : boolean                                   *
*******************************************************/
  function isMobileDevice() {
    var device = (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
     if(window.innerWidth <= 800) {
      device = true;
     } else {
      device = false;
      if (/iPhone|iPad|iPod|Android/i.test(navigator.userAgent) ==true) {
        device=true;
      } 
     }
     
    return device
  };


/*******************************************************
*              *** in array function  ****     *
********************************************************
*  This function this function determines if a string  *
* is in a certain array or not                         *
*  @return : boolean                                   *
*******************************************************/

 function hasValue(arr,value) {
  var i;
  for (i=0; i<arr.length; i++) { if (arr[i] === value) return true; }
  return false;
}

/*******************************************************
*   *** check and remove from array function  ****     *
********************************************************
*  This function checks for a string in array and      *
*  removes it                                          *
*  @return : new array                                   *
*******************************************************/
function removefromarray(arr, value) {
   if (hasValue(arr, value) ==true) {
      var newlist = []
      for (var x = 0; x<arr.length; x++) {

        if (arr[x]!= value) {
          newlist.push (arr[x])
        }
      }
      arr = newlist
    }
    return arr;
}

/*******************************************************
*   *** convert array to str function  ****     *
********************************************************
*  loops through an array and converts it to a str       *
*. this is so we can build a poper html class list.      *
*  @return : new string                                   *
*******************************************************/
function convertarraytostr(arr) {
  var arrstr = '';
  for (var x=0; x<arr.length; x++) {
    if (arrstr == '') {
      arrstr = arr[x] + ' ';
    } else {
      arrstr = arrstr + arr[x] + ' ';
    }
  }
  return arrstr
}

/*******************************************************
*        *** get length of an object   ****            *
********************************************************
*  get the lendth of a object                          *
*  @return : number                                    *
*******************************************************/
Object.size = function(obj) {
    var size = 0, key;
    for (key in obj) {
        if (obj.hasOwnProperty(key)) size++;
    }
    return size;
};



</script>

</body>

</html>
